# Need to enable `docker` profile if compile locally.
# However, that will fail `mvn test` so actual compiling is
# using flag `-DskipTests`. Also,
# `dataSource.setUrl("jdbc:postgresql://database:5432/gitenter");`
# will fail local compile (even if it is in profile STS rather 
# than dockder) with the error 
# `Caused by: java.net.UnknownHostException: database`.
# Need to comment it out in `DatabaseConfig.java` before
# running it inside of STS.
#
# TODO:
# Properly testup compiling from dev-machine. Also makes local
# compiling compatible to the change.
spring.profiles.active=sts
#spring.profiles.active=docker
#spring.profiles.active=qa
#spring.profiles.active=production

# Disable feature detection by this undocumented parameter. 
# Check the org.hibernate.engine.jdbc.internal.JdbcServiceImpl.configure method for more details.
# And because detection is disabled we have to set correct dialect by hand.
# Refer: https://vkuzel.com/spring-boot-jpa-hibernate-atomikos-postgresql-exception
#
# Currently not working in my case, because "com.gitenter.protease.config.JpaConfig"
# is in path, and this setup get override in there.
spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults = false
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQL9Dialect